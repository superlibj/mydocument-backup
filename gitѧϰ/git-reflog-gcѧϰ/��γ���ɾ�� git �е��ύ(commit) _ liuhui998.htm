<!DOCTYPE html>
<html dir="ltr" lang="en-US"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>如何彻底删除 git 中的提交(commit) | liuhui998</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="stylesheet" type="text/css" media="all" href="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/style.css">
<link rel="pingback" href="http://liuhui998.com/xmlrpc.php">
<script src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/ga.js" async="" type="text/javascript"></script><script type="text/javascript" src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/swfobject.js"></script><link rel="alternate" type="application/rss+xml" title="liuhui998 » Feed" href="http://liuhui998.com/feed/">
<link rel="alternate" type="application/rss+xml" title="liuhui998 » Comments Feed" href="http://liuhui998.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="liuhui998 » 如何彻底删除 git 中的提交(commit) Comments Feed" href="http://liuhui998.com/2010/11/06/remove_commits_completely/feed/">
<link rel="stylesheet" id="sociable3-css" href="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/sociable.css" type="text/css" media="all">
<script type="text/javascript" src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/l10n.js"></script>
<script type="text/javascript" src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/comment-reply.js"></script>
<script type="text/javascript" src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/jquery.js"></script>
<script type="text/javascript" src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/external-tracking.js"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://liuhui998.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://liuhui998.com/wp-includes/wlwmanifest.xml"> 
<link rel="index" title="liuhui998" href="http://liuhui998.com/">
<link rel="start" title="liuhui998.com　is coming" href="http://liuhui998.com/2010/09/20/liuhui998-com-is-comming/">
<link rel="prev" title="GitCast — RailsConf 2008 Talk" href="http://liuhui998.com/2010/11/02/gitcast-railsconf-2008-talk/">
<link rel="next" title="Git历险记（一）" href="http://liuhui998.com/2011/01/21/git-adventures-1/">
<meta name="generator" content="WordPress 3.2.1">
<link rel="canonical" href="http://liuhui998.com/2010/11/06/remove_commits_completely/">
<link rel="shortlink" href="http://liuhui998.com/?p=137">
<!-- Google Analytics Tracking by Google Analyticator 6.1.1: http://ronaldheft.com/code/analyticator/ -->
<script type="text/javascript">
	var analyticsFileTypes = ['*.pdf','*.mp4'];
	var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-6896227-2']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</head>

<body class="single single-post postid-137 single-format-standard">
<div id="wrapper" class="hfeed">
	<div id="header">
		<div id="masthead">
			<div id="branding" role="banner">
								<div id="site-title">
					<span>
						<a href="http://liuhui998.com/" title="liuhui998" rel="home">liuhui998</a>
					</span>
				</div>
				<div id="site-description">Linux, Git  etc</div>

										<img src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/path.jpg" alt="" width="940" height="198">
								</div><!-- #branding -->

			<div id="access" role="navigation">
			  				<div class="skip-link screen-reader-text"><a href="#content" title="Skip to content">Skip to content</a></div>
								<div class="menu-header"><ul id="menu-abc" class="menu"><li id="menu-item-8" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-8"><a href="http://liuhui998.com/">HOME</a></li>
<li id="menu-item-7" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7"><a href="http://gitbook.liuhui998.com/">Git Community Book 中文版</a></li>
<li id="menu-item-6" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6"><a href="http://liuhui998.com/about/">关于我</a></li>
</ul></div>			</div><!-- #access -->
		</div><!-- #masthead -->
	</div><!-- #header -->

	<div id="main">

		<div id="container">
			<div id="content" role="main">

			

				<div id="nav-above" class="navigation">
					<div class="nav-previous"><a href="http://liuhui998.com/2010/11/02/gitcast-railsconf-2008-talk/" rel="prev"><span class="meta-nav">←</span> GitCast — RailsConf 2008 Talk</a></div>
					<div class="nav-next"><a href="http://liuhui998.com/2011/01/21/git-adventures-1/" rel="next">Git历险记（一） <span class="meta-nav">→</span></a></div>
				</div><!-- #nav-above -->

				<div id="post-137" class="post-137 post type-post status-publish format-standard hentry category-uncategorized tag-git tag-12">
					<h1 class="entry-title">如何彻底删除 git 中的提交(commit)</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://liuhui998.com/2010/11/06/remove_commits_completely/" title="8:22 pm" rel="bookmark"><span class="entry-date">2010/11/06</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://liuhui998.com/author/liuhui998/" title="View all posts by liuhui998">liuhui998</a></span>					</div><!-- .entry-meta -->

					<div class="entry-content">
						<h2>如何彻底删除　git 中的提交(commit)　</h2>
<p>原来我写一博文，说如何<a href="http://liuhui998.com/2010/10/22/recover_lost_commits_with_git/">如何找回git 中丢失的提交(commit)</a>。当时有人问我，是不是执行<code>git gc</code>后那些悬空对象(dangling objects)就被删了；答案是否定的。</p>
<p>那么是不是这些删了的东东就不被彻底删除，就以悬空对象(dangling objects)的形式一直保存系统中的话，那么.git 目录不就撑爆了；答案也是否定的。</p>
<p>那　git　是如何管理这些悬空对象(dangling objects)的呢?</p>
<p>当我们在执行<code>git gc</code>命令时，它会调用<code>git prune</code>命令把这些悬空对象(dangling objects)清除掉(prune)；一般默认是清除超过二周的悬空对象。如果我们不要等二周时间，可在git 中设置一个环境变量<a href="http://www.kernel.org/pub/software/scm/git/docs/v1.6.0.6/git-config.html">gc.pruneExpire</a>；也可在执行命令时设置清除(prune)的时间长度(expire date)。</p>
<p>下面这条命令就是把当前git仓库里的所有的悬空对象(dangling objects)都清除：</p>
<pre><code>git gc --prune=0
</code></pre>
<p>不过上面这条命令还是不会马上删除悬空对象(dangling objects)。因为我们删除了一个git对象(git 
object)后，在reflog里还会有记录的；所以仓库的悬空对象(dangling objects)还不是真正的悬空对象(dangling 
objects)。我们只有把reflog中的相关记录也删除掉，仓库中的悬空对象(dangling 
objects)就没有任何引用(ref)指向它，<code>git gc --prune=0</code>才会执行成功。</p>
<p>在执行<code>git gc</code>命令时，会清除超过30天的当前head的不可达对象(unreachable)的引用(reflog entries)。如果不想等这么久<br>
，可以设置<a href="http://www.kernel.org/pub/software/scm/git/docs/v1.6.0.6/git-config.html">gc.reflogexpireunreachable</a> 这个git环境变量，指定expire的时间长度；也可以在命令中设置。</p>
<p>下面这条命令清空了reflog里的所有从当前head不可达对象(unreachable)的引用(reflog entries)。</p>
<pre><code>git reflog expire --expire-unreachable=0 --all
</code></pre>
<p>下面的命令展示了如何彻底删除一个提交对象(commit object)。</p>
<pre><code>rm -rf gitone
mkdir gitone
cd gitone
git init
touch abc
git add abc
git commit -m "abc"
touch bbc
git add bbc
git commit -m "bbc"
touch ccc
git add ccc
git commit -m "ccc"

git reset --hard HEAD^
git fsck --lost-found
sleep 1

git reflog expire --expire-unreachable=0 --all
git gc --prune=0

git fsck --lost-found
</code></pre>
<p>后记：</p>
<p>这里最核心的两个命令就是：</p>
<pre><code>git reflog expire --expire-unreachable=0 --all
git gc --prune=0
</code></pre>
<p>如果想了解更多，可以看看参考资料：）</p>
<h3>参考资料:</h3>
<p><a href="http://www.kernel.org/pub/software/scm/git/docs/v1.6.0.6/git-gc.html">git gc 英文帮助</a></p>
<p><a href="http://www.kernel.org/pub/software/scm/git/docs/v1.6.0.6/git-prune.html">git prune 英文帮助</a></p>
<p><a href="http://www.kernel.org/pub/software/scm/git/docs/v1.6.0.6/git-config.html">git config 英文帮助</a></p>
<p><a href="https://git.wiki.kernel.org/index.php/GitFaq">git faq</a></p>
<p><a href="http://stackoverflow.com/questions/3765234/listing-and-deleting-git-commits-that-are-under-no-branch-dangling">stack overflow 上资料</a></p>
<div class="sociable"><div><span class="sociable-tagline">把我分享给TA：</span></div><ul><li><a rel="nofollow" href="http://twitter.com/home?status=%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20-%20http%3A%2F%2Fliuhui998.com%2F2010%2F11%2F06%2Fremove_commits_completely%2F"><img src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/twitter.png" class="sociable-img" title="Twitter" alt="Twitter"></a></li><li><a rel="nofollow" href="http://www.google.com/bookmarks/mark?op=edit&amp;bkmk=http%3A%2F%2Fliuhui998.com%2F2010%2F11%2F06%2Fremove_commits_completely%2F&amp;title=%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29&amp;annotation=%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%E3%80%80git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%E3%80%80%0D%0A%0D%0A%E5%8E%9F%E6%9D%A5%E6%88%91%E5%86%99%E4%B8%80%E5%8D%9A%E6%96%87%EF%BC%8C%E8%AF%B4%E5%A6%82%E4%BD%95%E5%A6%82%E4%BD%95%E6%89%BE%E5%9B%9Egit%20%E4%B8%AD%E4%B8%A2%E5%A4%B1%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%E3%80%82%E5%BD%93%E6%97%B6%E6%9C%89%E4%BA%BA%E9%97%AE%E6%88%91%EF%BC%8C%E6%98%AF%E4%B8%8D%E6%98%AF%E6%89%A7%E8%A1%8Cgit%20gc%E5%90%8E%E9%82%A3%E4%BA%9B%E6%82%AC%E7%A9%BA%E5%AF%B9%E8%B1%A1%28dangling%20objects%29%E5%B0%B1%E8%A2%AB%E5%88%A0%E4%BA%86%EF%BC%9B%E7%AD%94%E6%A1%88%E6%98%AF%E5%90%A6%E5%AE%9A%E7%9A%84%E3%80%82%0D%0A%0D"><img src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/googlebookmark.png" class="sociable-img" title="Google Bookmarks" alt="Google Bookmarks"></a></li><li><a rel="nofollow" href="http://delicious.com/post?url=http%3A%2F%2Fliuhui998.com%2F2010%2F11%2F06%2Fremove_commits_completely%2F&amp;title=%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29&amp;notes=%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%E3%80%80git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%E3%80%80%0D%0A%0D%0A%E5%8E%9F%E6%9D%A5%E6%88%91%E5%86%99%E4%B8%80%E5%8D%9A%E6%96%87%EF%BC%8C%E8%AF%B4%E5%A6%82%E4%BD%95%E5%A6%82%E4%BD%95%E6%89%BE%E5%9B%9Egit%20%E4%B8%AD%E4%B8%A2%E5%A4%B1%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%E3%80%82%E5%BD%93%E6%97%B6%E6%9C%89%E4%BA%BA%E9%97%AE%E6%88%91%EF%BC%8C%E6%98%AF%E4%B8%8D%E6%98%AF%E6%89%A7%E8%A1%8Cgit%20gc%E5%90%8E%E9%82%A3%E4%BA%9B%E6%82%AC%E7%A9%BA%E5%AF%B9%E8%B1%A1%28dangling%20objects%29%E5%B0%B1%E8%A2%AB%E5%88%A0%E4%BA%86%EF%BC%9B%E7%AD%94%E6%A1%88%E6%98%AF%E5%90%A6%E5%AE%9A%E7%9A%84%E3%80%82%0D%0A%0D"><img src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/delicious.png" class="sociable-img" title="del.icio.us" alt="del.icio.us"></a></li><li><a rel="nofollow" href="http://digg.com/submit?phase=2&amp;url=http%3A%2F%2Fliuhui998.com%2F2010%2F11%2F06%2Fremove_commits_completely%2F&amp;title=%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29&amp;bodytext=%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%E3%80%80git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%E3%80%80%0D%0A%0D%0A%E5%8E%9F%E6%9D%A5%E6%88%91%E5%86%99%E4%B8%80%E5%8D%9A%E6%96%87%EF%BC%8C%E8%AF%B4%E5%A6%82%E4%BD%95%E5%A6%82%E4%BD%95%E6%89%BE%E5%9B%9Egit%20%E4%B8%AD%E4%B8%A2%E5%A4%B1%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%E3%80%82%E5%BD%93%E6%97%B6%E6%9C%89%E4%BA%BA%E9%97%AE%E6%88%91%EF%BC%8C%E6%98%AF%E4%B8%8D%E6%98%AF%E6%89%A7%E8%A1%8Cgit%20gc%E5%90%8E%E9%82%A3%E4%BA%9B%E6%82%AC%E7%A9%BA%E5%AF%B9%E8%B1%A1%28dangling%20objects%29%E5%B0%B1%E8%A2%AB%E5%88%A0%E4%BA%86%EF%BC%9B%E7%AD%94%E6%A1%88%E6%98%AF%E5%90%A6%E5%AE%9A%E7%9A%84%E3%80%82%0D%0A%0D"><img src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/digg.png" class="sociable-img" title="Digg" alt="Digg"></a></li><li><a rel="nofollow" href="http://www.facebook.com/share.php?u=http%3A%2F%2Fliuhui998.com%2F2010%2F11%2F06%2Fremove_commits_completely%2F&amp;t=%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29"><img src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/facebook.png" class="sociable-img" title="Facebook" alt="Facebook"></a></li><li><a rel="nofollow" href="http://www.google.com/reader/link?url=http%3A%2F%2Fliuhui998.com%2F2010%2F11%2F06%2Fremove_commits_completely%2F&amp;title=%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29&amp;srcURL=http%3A%2F%2Fliuhui998.com%2F2010%2F11%2F06%2Fremove_commits_completely%2F&amp;srcTitle=liuhui998+Linux%2C+Git++etc"><img src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/googlebuzz.png" class="sociable-img" title="Google Buzz" alt="Google Buzz"></a></li><li><a rel="nofollow" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Fliuhui998.com%2F2010%2F11%2F06%2Fremove_commits_completely%2F&amp;title=%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29&amp;source=liuhui998+Linux%2C+Git++etc&amp;summary=%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%E3%80%80git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%E3%80%80%0D%0A%0D%0A%E5%8E%9F%E6%9D%A5%E6%88%91%E5%86%99%E4%B8%80%E5%8D%9A%E6%96%87%EF%BC%8C%E8%AF%B4%E5%A6%82%E4%BD%95%E5%A6%82%E4%BD%95%E6%89%BE%E5%9B%9Egit%20%E4%B8%AD%E4%B8%A2%E5%A4%B1%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%E3%80%82%E5%BD%93%E6%97%B6%E6%9C%89%E4%BA%BA%E9%97%AE%E6%88%91%EF%BC%8C%E6%98%AF%E4%B8%8D%E6%98%AF%E6%89%A7%E8%A1%8Cgit%20gc%E5%90%8E%E9%82%A3%E4%BA%9B%E6%82%AC%E7%A9%BA%E5%AF%B9%E8%B1%A1%28dangling%20objects%29%E5%B0%B1%E8%A2%AB%E5%88%A0%E4%BA%86%EF%BC%9B%E7%AD%94%E6%A1%88%E6%98%AF%E5%90%A6%E5%AE%9A%E7%9A%84%E3%80%82%0D%0A%0D"><img src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/linkedin.png" class="sociable-img" title="LinkedIn" alt="LinkedIn"></a></li><li><a rel="nofollow" href="http://promote.orkut.com/preview?nt=orkut.com&amp;du=http%3A%2F%2Fliuhui998.com%2F2010%2F11%2F06%2Fremove_commits_completely%2F&amp;tt=%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29"><img src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/orkut.png" class="sociable-img" title="Orkut" alt="Orkut"></a></li><li><a rel="nofollow" href="http://liuhui998.com/feed/"><img src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/rss_002.png" class="sociable-img" title="RSS" alt="RSS"></a></li></ul></div>											</div><!-- .entry-content -->


					<div class="entry-utility">
						This entry was posted in <a href="http://liuhui998.com/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a> and tagged <a href="http://liuhui998.com/tag/git/" rel="tag">Git</a>, <a href="http://liuhui998.com/tag/%e5%88%a0%e9%99%a4/" rel="tag">删除</a>. Bookmark the <a href="http://liuhui998.com/2010/11/06/remove_commits_completely/" title="Permalink to 如何彻底删除 git 中的提交(commit)" rel="bookmark">permalink</a>.											</div><!-- .entry-utility -->
				</div><!-- #post-## -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://liuhui998.com/2010/11/02/gitcast-railsconf-2008-talk/" rel="prev"><span class="meta-nav">←</span> GitCast — RailsConf 2008 Talk</a></div>
					<div class="nav-next"><a href="http://liuhui998.com/2011/01/21/git-adventures-1/" rel="next">Git历险记（一） <span class="meta-nav">→</span></a></div>
				</div><!-- #nav-below -->

				
			<div id="comments">




								<div id="respond">
				<h3 id="reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://liuhui998.com/2010/11/06/remove_commits_completely/#respond" style="display: none;">Cancel reply</a></small></h3>
									<form action="http://liuhui998.com/wp-comments-post.php" method="post" id="commentform">
																			<p class="comment-notes">Your email address will not be published. Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Name</label> <span class="required">*</span><input id="author" name="author" size="30" aria-required="true" type="text"></p>
<p class="comment-form-email"><label for="email">Email</label> <span class="required">*</span><input id="email" name="email" size="30" aria-required="true" type="text"></p>
<p class="comment-form-url"><label for="url">Website</label><input id="url" name="url" size="30" type="text"></p>
												<p class="comment-form-comment"><label for="comment">Comment</label><textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a
 href="" title=""&gt; &lt;abbr title=""&gt; &lt;acronym title=""&gt; 
&lt;b&gt; &lt;blockquote cite=""&gt; &lt;cite&gt; &lt;code&gt; &lt;del 
datetime=""&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=""&gt; &lt;strike&gt; 
&lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" id="submit" value="Post Comment" type="submit">
							<input name="comment_post_ID" value="137" id="comment_post_ID" type="hidden">
<input name="comment_parent" id="comment_parent" value="0" type="hidden">
						</p>
						<br>
<abbr title="只是用来防止机器人来自动发评论 :)">验证码</abbr>&nbsp;&nbsp;
<img alt="如果你看不到验证码的图片，请刷新本页！" src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/image.png">
<input name="sxssid" value="_sxs_jxmmrjfjhnrn" type="hidden">
<input name="sxscode" maxlength="4" style="width: 60px;" title="Type here what you see in the left image" type="text">					</form>
							</div><!-- #respond -->
						
</div><!-- #comments -->


			</div><!-- #content -->
		</div><!-- #container -->


		<div id="primary" class="widget-area" role="complementary">
			<ul class="xoxo">

<li id="calendar-3" class="widget-container widget_calendar"><h3 class="widget-title">cal</h3><div id="calendar_wrap"><table id="wp-calendar">
	<caption>November 2010</caption>
	<thead>
	<tr>
		<th scope="col" title="Monday">M</th>
		<th scope="col" title="Tuesday">T</th>
		<th scope="col" title="Wednesday">W</th>
		<th scope="col" title="Thursday">T</th>
		<th scope="col" title="Friday">F</th>
		<th scope="col" title="Saturday">S</th>
		<th scope="col" title="Sunday">S</th>
	</tr>
	</thead>

	<tfoot>
	<tr>
		<td colspan="3" id="prev"><a href="http://liuhui998.com/2010/10/" title="View posts for October 2010">« Oct</a></td>
		<td class="pad">&nbsp;</td>
		<td colspan="3" id="next"><a href="http://liuhui998.com/2011/01/" title="View posts for January 2011">Jan »</a></td>
	</tr>
	</tfoot>

	<tbody>
	<tr><td><a href="http://liuhui998.com/2010/11/01/" title="GitCast — (8) Git Distributed Workflow">1</a></td><td><a href="http://liuhui998.com/2010/11/02/" title="GitCast — RailsConf 2008 Talk">2</a></td><td>3</td><td>4</td><td>5</td><td><a href="http://liuhui998.com/2010/11/06/" title="如何彻底删除 git 中的提交(commit)">6</a></td><td>7</td>
	</tr>
	<tr>
		<td>8</td><td>9</td><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td>
	</tr>
	<tr>
		<td>15</td><td>16</td><td>17</td><td>18</td><td>19</td><td>20</td><td>21</td>
	</tr>
	<tr>
		<td>22</td><td>23</td><td>24</td><td>25</td><td>26</td><td>27</td><td>28</td>
	</tr>
	<tr>
		<td>29</td><td>30</td>
		<td class="pad" colspan="5">&nbsp;</td>
	</tr>
	</tbody>
	</table></div></li><li id="search-2" class="widget-container widget_search"><form role="search" method="get" id="searchform" action="http://liuhui998.com/">
	<div><label class="screen-reader-text" for="s">Search for:</label>
	<input name="s" id="s" type="text">
	<input id="searchsubmit" value="Search" type="submit">
	</div>
	</form></li>		<li id="recent-posts-2" class="widget-container widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
				<li><a href="http://liuhui998.com/2011/12/28/speed-up-rvm-download/" title="RVM 下载  加速">RVM 下载  加速</a></li>
				<li><a href="http://liuhui998.com/2011/12/23/umenu/" title="uMenu 电子菜单">uMenu 电子菜单</a></li>
				<li><a href="http://liuhui998.com/2011/11/09/firefox8-keysnail/" title="firefox8兼容安装keysnail">firefox8兼容安装keysnail</a></li>
				<li><a href="http://liuhui998.com/2011/11/04/update_gitbook/" title="更新了 git community book">更新了 git community book</a></li>
				<li><a href="http://liuhui998.com/2011/03/17/git-adventures-index-commit/" title="InfoQ专栏 Git历险记（四）——索引与提交的幕后故事">InfoQ专栏 Git历险记（四）——索引与提交的幕后故事</a></li>
				</ul>
		</li><li id="tag_cloud-3" class="widget-container widget_tag_cloud"><h3 class="widget-title">Tags</h3><div class="tagcloud"><a href="http://liuhui998.com/tag/autohotkey/" class="tag-link-16" title="1 topic" style="font-size: 8pt;">AutoHotkey</a>
<a href="http://liuhui998.com/tag/git/" class="tag-link-7" title="18 topics" style="font-size: 22pt;">Git</a>
<a href="http://liuhui998.com/tag/git-casts/" class="tag-link-8" title="9 topics" style="font-size: 18pt;">Git Casts</a>
<a href="http://liuhui998.com/tag/git%e5%8e%86%e9%99%a9%e8%ae%b0/" class="tag-link-19" title="4 topics" style="font-size: 13.7143pt;">Git历险记</a>
<a href="http://liuhui998.com/tag/gtd/" class="tag-link-17" title="1 topic" style="font-size: 8pt;">GTD</a>
<a href="http://liuhui998.com/tag/hotkey/" class="tag-link-15" title="1 topic" style="font-size: 8pt;">hotkey</a>
<a href="http://liuhui998.com/tag/infoq%e4%b8%93%e6%a0%8f/" class="tag-link-20" title="4 topics" style="font-size: 13.7143pt;">InfoQ专栏</a>
<a href="http://liuhui998.com/tag/msysgit/" class="tag-link-6" title="1 topic" style="font-size: 8pt;">msysGit</a>
<a href="http://liuhui998.com/tag/qq/" class="tag-link-18" title="1 topic" style="font-size: 8pt;">QQ</a>
<a href="http://liuhui998.com/tag/ssh/" class="tag-link-11" title="1 topic" style="font-size: 8pt;">ssh</a>
<a href="http://liuhui998.com/tag/windows/" class="tag-link-5" title="1 topic" style="font-size: 8pt;">windows</a>
<a href="http://liuhui998.com/tag/%e5%88%a0%e9%99%a4/" class="tag-link-12" title="1 topic" style="font-size: 8pt;">删除</a>
<a href="http://liuhui998.com/tag/%e5%ae%9e%e6%88%98/" class="tag-link-14" title="1 topic" style="font-size: 8pt;">实战</a>
<a href="http://liuhui998.com/tag/%e6%81%a2%e5%a4%8d/" class="tag-link-13" title="1 topic" style="font-size: 8pt;">恢复</a>
<a href="http://liuhui998.com/tag/%e6%9c%8d%e5%8a%a1%e5%99%a8%e9%85%8d%e7%bd%ae/" class="tag-link-10" title="1 topic" style="font-size: 8pt;">服务器配置</a>
<a href="http://liuhui998.com/tag/%e8%a7%86%e9%a2%91%e6%95%99%e7%a8%8b/" class="tag-link-9" title="9 topics" style="font-size: 18pt;">视频教程</a></div>
</li><li id="recent-comments-2" class="widget-container widget_recent_comments"><h3 class="widget-title">Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><a href="http://www.wutianqi.com/?p=2961" rel="external nofollow" class="url">Git版本控制系统 | Tanky Woo</a> on <a href="http://liuhui998.com/2010/09/26/msysgit_windows_copypaste/#comment-201">在msysGit的Git Bash里复制粘贴</a></li><li class="recentcomments"><a href="http://yueyingcui.wordpress.com/2011/10/30/overcoat/" rel="external nofollow" class="url">CSE 528 Project: Overcoat: An Implicit Canvas for 3D Painting « Tree</a> on <a href="http://liuhui998.com/2011/02/11/git-adventures-2-install-config/#comment-183">Git历险记（二）——Git的安装和配置</a></li><li class="recentcomments"><a href="http://mcwanghui.sinaapp.com/" rel="external nofollow" class="url">老鼠不偷米</a> on <a href="http://liuhui998.com/2011/02/11/git-adventures-2-install-config/#comment-182">Git历险记（二）——Git的安装和配置</a></li><li class="recentcomments"><a href="http://blog.pcme.info/" rel="external nofollow" class="url">junxy</a> on <a href="http://liuhui998.com/about/#comment-167">关于我</a></li><li class="recentcomments">yal on <a href="http://liuhui998.com/2011/03/17/git-adventures-index-commit/#comment-160">InfoQ专栏 Git历险记（四）——索引与提交的幕后故事</a></li></ul></li><li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href="http://liuhui998.com/2011/12/" title="December 2011">December 2011</a></li>
	<li><a href="http://liuhui998.com/2011/11/" title="November 2011">November 2011</a></li>
	<li><a href="http://liuhui998.com/2011/03/" title="March 2011">March 2011</a></li>
	<li><a href="http://liuhui998.com/2011/02/" title="February 2011">February 2011</a></li>
	<li><a href="http://liuhui998.com/2011/01/" title="January 2011">January 2011</a></li>
	<li><a href="http://liuhui998.com/2010/11/" title="November 2010">November 2010</a></li>
	<li><a href="http://liuhui998.com/2010/10/" title="October 2010">October 2010</a></li>
	<li><a href="http://liuhui998.com/2010/09/" title="September 2010">September 2010</a></li>
		</ul>
</li><li id="linkcat-21" class="widget-container widget_links"><h3 class="widget-title">友情推荐</h3>
	<ul class="xoxo blogroll">
<li><a href="http://www.upward-menu.com/" title="我最近做的一个产品，大家看看，提点意见">uMenu</a></li>

	</ul>
</li>
<li id="linkcat-2" class="widget-container widget_links"><h3 class="widget-title">友情链接</h3>
	<ul class="xoxo blogroll">
<li><a href="http://www.juvenxu.com/" target="_blank">juvenxu</a></li>
<li><a href="http://blog.liuw.name/">Liuw’s Thinkpad</a></li>
<li><a href="http://www.dramus.cn/" title="Ramus Site" target="_blank">Ramus Site</a></li>
<li><a href="http://blog.laiyonghao.com/" target="_blank">赖勇浩的编程私伙局</a></li>

	</ul>
</li>
<li id="twitter-3" class="widget-container widget_twitter"><div><h3 class="widget-title"><a class="twitterwidget twitterwidget-rss" title="Syndicate this content" href="http://twitter.com/statuses/user_timeline/liuhui998.rss"><img style="background: none repeat scroll 0% 0% orange; color: white; border: medium none;" src="%E5%A6%82%E4%BD%95%E5%BD%BB%E5%BA%95%E5%88%A0%E9%99%A4%20git%20%E4%B8%AD%E7%9A%84%E6%8F%90%E4%BA%A4%28commit%29%20_%20liuhui998_files/rss.png" alt="RSS" width="14" height="14"></a><a class="twitterwidget twitterwidget-title" title="Twitter: liuhui998" href="http://twitter.com/liuhui998">Twitter: liuhui998</a></h3><ul><li><span class="entry-content"><a href="http://twitter.com/Anxonli" class="twitter-user">@Anxonli</a> 呵呵，半个老乡了</span> <span class="entry-meta"><span class="time-meta"><a href="http://twitter.com/liuhui998/statuses/164368858864558080">03:26:04 PM January 31, 2012</a></span> <span class="from-meta">from <a href="http://twitter.com/#%21/download/ipad" rel="nofollow">Twitter for iPad</a></span><span class="in-reply-to-meta"><a href="http://twitter.com/Anxonli/statuses/164314647296622592" class="reply-to">in reply to Anxonli</a></span></span></li><li><span class="entry-content"><a href="http://twitter.com/Anxonli" class="twitter-user">@Anxonli</a> 你是湖南人？</span> <span class="entry-meta"><span class="time-meta"><a href="http://twitter.com/liuhui998/statuses/164253732815646720">07:48:36 AM January 31, 2012</a></span> <span class="from-meta">from web</span><span class="in-reply-to-meta"><a href="http://twitter.com/Anxonli/statuses/164211157744353280" class="reply-to">in reply to Anxonli</a></span></span></li><li><span class="entry-content">html5的时代已经来临了，Apple 发布iBooks Author: <a href="http://t.co/5Ufhv6M2">http://t.co/5Ufhv6M2</a></span> <span class="entry-meta"><span class="time-meta"><a href="http://twitter.com/liuhui998/statuses/160640687841361920">08:31:39 AM January 21, 2012</a></span> <span class="from-meta">from <a href="http://twitter.com/tweetbutton" rel="nofollow">Tweet Button</a></span></span></li><li><span class="entry-content"><a href="http://twitter.com/morgancheng" class="twitter-user">@morgancheng</a> 因为我前一段时间看了《黑客与画家》这本书，当时的直觉是 JS 就是  LISP 的浏览器实现，因为它支持很多闭包的特性。其它的我现在记不大清楚了</span> <span class="entry-meta"><span class="time-meta"><a href="http://twitter.com/liuhui998/statuses/158791955273359361">06:05:27 AM January 16, 2012</a></span> <span class="from-meta">from web</span><span class="in-reply-to-meta"><a href="http://twitter.com/morgancheng/statuses/157642793571979264" class="reply-to">in reply to morgancheng</a></span></span></li><li><span class="entry-content">在同学家里用 169 拔号，在云南信息港申请了一个 <a href="http://t.co/SO8me1Cv">http://t.co/SO8me1Cv</a> 的邮箱
 <a href="http://search.twitter.com/search?q=%23" class="twitter-hashtag">#</a>刚上网的时候</span> <span class="entry-meta"><span class="time-meta"><a href="http://twitter.com/liuhui998/statuses/157487605934596097">03:42:25 PM January 12, 2012</a></span> <span class="from-meta">from web</span></span></li><li><span class="entry-content"><a href="http://twitter.com/morgancheng" class="twitter-user">@morgancheng</a> 我现在觉得javascript 就是 浏览器里的 LISP，它里面机制能让你比较简单的扩展这个语言。</span> <span class="entry-meta"><span class="time-meta"><a href="http://twitter.com/liuhui998/statuses/157486094932385792">03:36:25 PM January 12, 2012</a></span> <span class="from-meta">from web</span><span class="in-reply-to-meta"><a href="http://twitter.com/morgancheng/statuses/157305242541756417" class="reply-to">in reply to morgancheng</a></span></span></li></ul></div></li>			</ul>
		</div><!-- #primary .widget-area -->

	</div><!-- #main -->

	<div id="footer" role="contentinfo">
		<div id="colophon">



			<div id="site-info">
				<a href="http://liuhui998.com/" title="liuhui998" rel="home">
					liuhui998				</a>
			</div><!-- #site-info -->

			<div id="site-generator">
								<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">Proudly powered by WordPress.</a>
			</div><!-- #site-generator -->

		</div><!-- #colophon -->
	</div><!-- #footer -->

</div><!-- #wrapper -->



<div style="-moz-transform: scale(1); left: 287px; top: 2074.8px;" class="livemargins-bubble-box livemargins-bubble-box-bluricon"><div title="一键应用" class="livemargins-bubble-icon"></div></div></body></html>